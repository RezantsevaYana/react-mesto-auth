{"ast":null,"code":"var _jsxFileName = \"/Users/rezanceva96/mesto-react/src/components/App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react'; //import logo from './logo.svg';\n//import '../index.css';\n\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport { api } from '../utils/api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  // переменные состояния для открытия попапов\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({}); // стейт отвечающий за данные текущего пользователя\n\n  const [currentUser, setCurrentUser] = React.useState({});\n  React.useEffect(() => {\n    api.getUserInfo().then(profile => {\n      setCurrentUser(profile);\n    }).catch(err => {\n      console.log(err);\n    });\n  }); // функции открытия попапов\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  } // функция закрытия попапов\n\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser(user) {\n    api.editUserInfo(user).then(user => setCurrentUser(user)).catch(err => {\n      console.log(err);\n    }).finally(() => closeAllPopups());\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.editAvatar(avatar).then(avatar => {\n      console.log(avatar);\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => closeAllPopups());\n  }\n\n  return (\n    /*#__PURE__*/\n    // внедряем даные с помощбю провадера контекста, всему поддереву теперь доступен этот контекст. \n    // То есть мы подключили дерево компонентов к провайдеру контекста\n    _jsxDEV(CurrentUserContext.Provider, {\n      value: currentUser,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Main, {\n          onEditProfile: handleEditProfileClick,\n          onAddPlace: handleAddPlaceClick,\n          onEditAvatar: handleEditAvatarClick,\n          onCardClick: handleCardClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(EditProfilePopup, {\n          isOpen: isEditProfilePopupOpen,\n          onClose: closeAllPopups,\n          onUpdateUser: handleUpdateUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PopupWithForm, {\n          name: \"_js_item\",\n          title: \"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",\n          isOpen: isAddPlacePopupOpen,\n          onClose: closeAllPopups,\n          buttonText: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"title-input\",\n            type: \"text\",\n            className: \"popup__input popup__input_info_title\",\n            name: \"name\",\n            placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error title-input-error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"email-input\",\n            type: \"url\",\n            className: \"popup__input popup__input_info_link\",\n            name: \"link\",\n            placeholder: \"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error email-input-error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(EditAvatarPopup, {\n          isOpen: isEditAvatarPopupOpen,\n          onClose: closeAllPopups,\n          onUpdateAvatar: handleUpdateAvatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PopupWithForm, {\n          name: \"-delete\",\n          title: \"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\",\n          buttonText: \"\\u0414\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n          card: selectedCard,\n          isOpen: selectedCard.url,\n          onClose: closeAllPopups\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }, this)\n  );\n}\n\n_s(App, \"7X3er6tOqOxQrI6xgKa0GHJPfxk=\");\n\n_c = App;\nexport default App; // изменение аватара -> вылезает ошибка что аватар должен быть ссылкой -> возможно что-то неправильно передается в завершении вызова апи\n// п\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/rezanceva96/mesto-react/src/components/App.js"],"names":["React","Header","Main","Footer","PopupWithForm","ImagePopup","api","CurrentUserContext","EditProfilePopup","EditAvatarPopup","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","useState","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","currentUser","setCurrentUser","useEffect","getUserInfo","then","profile","catch","err","console","log","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","closeAllPopups","handleCardClick","card","handleUpdateUser","user","editUserInfo","finally","handleUpdateAvatar","avatar","editAvatar","url"],"mappings":"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","sourcesContent":["import React from 'react';\n//import logo from './logo.svg';\n//import '../index.css';\nimport Header from './Header.js';\nimport Main from './Main.js'\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js'\nimport { api } from '../utils/api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\n\n\nfunction App() {\n\n  // переменные состояния для открытия попапов\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false)\n  \n  const [selectedCard, setSelectedCard] = React.useState({})\n\n  // стейт отвечающий за данные текущего пользователя\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((profile) => {\n        setCurrentUser(profile)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  })\n\n  // функции открытия попапов\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  // функция закрытия попапов\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setSelectedCard({})\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function handleUpdateUser(user) {\n    api.editUserInfo(user)\n      .then((user) => setCurrentUser(user))\n      .catch(err => {\n        console.log(err)\n      })\n      .finally(() => closeAllPopups());\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.editAvatar(avatar)\n      .then((avatar) => {\n        console.log(avatar)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n      .finally(() => closeAllPopups())\n  }\n\n\n  return (\n    // внедряем даные с помощбю провадера контекста, всему поддереву теперь доступен этот контекст. \n    // То есть мы подключили дерево компонентов к провайдеру контекста\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick = {handleCardClick}\n        />\n        <Footer />\n\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}></EditProfilePopup>\n\n          <PopupWithForm name='_js_item' title='Новое место' isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} buttonText='Создать'>\n          <input id=\"title-input\" type=\"text\" className=\"popup__input popup__input_info_title\"\n                          name=\"name\" placeholder=\"Название\"/>\n          <span className='error title-input-error'></span>\n          <input id='email-input' type=\"url\" className=\"popup__input popup__input_info_link\" name=\"link\"\n                          placeholder=\"Ссылка на картинку\"/>\n          <span className='error email-input-error'></span>\n          </PopupWithForm>\n      \n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}></EditAvatarPopup>\n      \n          <PopupWithForm name='-delete' title='Вы уверены?' buttonText='Да' />\n            \n          <ImagePopup card={selectedCard} isOpen={selectedCard.url} onClose={closeAllPopups} />\n\n      </div>\n    </CurrentUserContext.Provider>\n    \n    \n\n    \n  );\n}\n\nexport default App;\n\n// изменение аватара -> вылезает ошибка что аватар должен быть ссылкой -> возможно что-то неправильно передается в завершении вызова апи\n// п\n\n\n"]},"metadata":{},"sourceType":"module"}